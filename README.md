# CSharp.lua
The C# to Lua compiler.

## Introduction
CSharp.lua is a C# to Lua compiler. Write C# then run on lua VM.
* Build on [Microsoft Roslyn](https://github.com/dotnet/roslyn). Support for C# 6.0.

* Highly readable code generation. C# AST ---> Lua AST ---> Lua Code.

* Allowing almost all of the C# language features.

* Provides [CoreSystem.lua](https://github.com/yanghuan/CSharp.lua/tree/master/CSharp.lua/CoreSystem.Lua/CoreSystem) library, can run away of CLR.

* Self-Compiling, run "./test/self-compiling/self.bat".

## Sample
C# code
```csharp
using System;

namespace HelloLua {
    public static class Program {
        public static void Main() {
            Console.WriteLine("hello lua!");
        }
    }
}
```
To Lua
```lua
-- Generated by CSharp.lua Compiler 1.0.0.0
local System = System
System.namespace("HelloLua", function (namespace) 
  namespace.class("Program", function (namespace) 
    local Main
    Main = function () 
      System.Console.WriteLine("hello lua!")
    end
    return {
      Main = Main
    }
  end)
end)
```

## Try Live
https://yanghuan.github.io/external/bridgelua-editor/index.html

## How to Use 
### Command Line Parameters
```cmd
D:\>CSharp.Lua.exe -h
Usage: CSharp.lua [-s srcfolder] [-d dstfolder]
Arguments 
-s              : source directory, all *.cs files whill be compiled
-d              : destination  directory, will put the out lua files

Options
-h              : show the help message    
-l              : libraries referenced, use ';' to separate      
-m              : meta files, like System.xml, use ';' to separate     
-csc            : csc.exe command argumnets, use ';' to separate

-c              : support classic lua version(5.1), default support 5.3 
-i              : indent number, default is 2
-sem            : append semicolon when statement over
-a              : attributes need to export, use ';' to separate, if ""-a"" only, all attributes whill be exported
```

### Download
[CSharp.lua.1.0.0.0.zip](https://raw.githubusercontent.com/yanghuan/CSharp.lua/master/download/CSharp.lua.1.0.0.0.zip)

## CoreSystem.lua
[CoreSystem.lua library](https://github.com/yanghuan/CSharp.lua/tree/master/CSharp.lua/CoreSystem.Lua/CoreSystem) that implements most of the [.net framework core classes](http://referencesource.microsoft.com/), including support for basic type, delegate, generic collection classes & linq. The Converted lua code, need to reference it  
- Download [CoreSysrem.lua.zip](https://raw.githubusercontent.com/yanghuan/CSharp.lua/master/download/CoreSystem.lua.zip)

## Example
- [fibonacci](https://github.com/yanghuan/CSharp.lua/tree/master/test/fibonacci), a console program code, print Fibonacci number. 

## *License*
[Apache 2.0 license](https://raw.githubusercontent.com/yanghuan/CSharp.lua/master/LICENSE).
